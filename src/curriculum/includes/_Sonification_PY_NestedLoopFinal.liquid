from earsketch import *

init()
setTempo(100)

def createDrumbeats(myImage):

	drumBeats = []
	for size in range(len(myImage)):
		drumBeats.append("")

	for outerCounter in range(len(myImage)):
		for innerCounter in range(len(myImage[0])):
			# println("row:")
			# println(outerCounter)
			# println("column: ")
			# println(innerCounter)
			if (myImage[outerCounter][innerCounter]== 255):  # if the color is white
				drumBeats[outerCounter] = drumBeats[outerCounter] + "-" # then rest
			else:
				drumBeats[outerCounter] = drumBeats[outerCounter] + "0" # otherwise, hit

	return drumBeats

# now, use the createDrumbeats function to create a list of drumbeats representing each row of the image

myImage = importImage("http://earsketch.gatech.edu/wp-content/uploads/2013/03/grid_zoomed.png", 8, 8)

snare = Y01_SNARE_1

drumBeats = createDrumbeats(myImage)

for counter in range(len(drumBeats)): #use the first row to demonstrate making a beat using the first list in the myImage variable
	makeBeat(snare, 1, counter + 1, drumBeats[counter]) # build a beat with the contents of the current row

setEffect(1, VOLUME, GAIN, 12)

finish()
