[[loopandlayers]]
== לולאות ושכבות!
:nofooter:

בפרק זה נלמד על לולאות `for`, ואיך ליצור חזרות בקוד ובמוסיקה. כמו כן, נדבר על שכבות ומרקמים, ונראה מספר טיפים לתיקון שגיאות (debugging).


[[forloops]]
=== לולאות`for`

בדיוק כמו שמוסיקאי/ת יכול/ה לנגן תבנית מוסיקלית, שוב ושוב, *בלופ*, אפשר לבקש מהמחשב להשלים משימות, שוב ושוב, *בלופ*! זה יותר יעיל: במקום לכתוב הוראה הרבה פעמים, נכתוב לולאה (loop) עם ההוראות, והמחשב ידע לחזור עליהן.

לדוגמה, אם נרצה לחזור על `()makeBeat` שיצרנו, במקום לכתוב מספר שורות של פונקציות `()makeBeat`, אפשר ליצור לולאת `for`. זה נעשה כך:

////
add new video
more info here https://docs.google.com/spreadsheets/d/114pWGd27OkNC37ZRCZDIvoNPuwGLcO8KM5Z_sTjpn0M/edit#gid=0
in the "revamping videos" tab (includes link to script)
////

הנה הקוד הסופי מהווידאו:

[role="curriculum-python"]
[source,python]
----
# Looping my beats: Looping a makeBeat() instruction with a for loop

# Setup
from earsketch import *
setTempo(120)

# Variables
drum1 = OS_SNARE03
beat_string = "0---0---0-0-0---"

# Looping our beat
for measure in range(1, 5):
    makeBeat(drum1, 1, measure, beat_string)
----

[role="curriculum-javascript"]
[source,javascript]
----
// Looping my beats: Looping a makeBeat() instruction with a for loop

// Setup:
setTempo(120);

// Variables
var drum1 = OS_SNARE03;
var beat_string = "0---0---0-0-0---";

// Looping our beat
for (var measure = 1; measure < 5; measure++) {
    makeBeat(drum1, 1, measure, beat_string);
}
----


כדי להבין יותר טוב מה קורה בקוד, אפשר להשתמש בהוראה `print`. היא מאפשרת להציג מידע בקונסול (console), כשהקוד רץ.

[role="curriculum-python"]
`print`  *מחשבת* ביטוי: היא מפשטת אותו לצורתו הבסיסית, בהתאם לטיפוס הנתונים שלו, ומציגה אותו בקונסול. שימו לב לכך, שבפייתון, `print` שונה מפונקציות אחרות מפני שלא תמיד נצטרך לשים סוגריים אחרי שם הפונקציה.

[role="curriculum-javascript"]
הפונקציה `()println` *מחשבת* ביטוי: היא מפשטת אותו לצורתו הבסיסית, בהתאם לטיפוס הנתונים שלו, ומציגה אותו בקונסול.

[role="curriculum-python"]
.תרגלו
****
לפני שתריצו את הקוד, הסיקו מה יוצג בקונסול אחרי כל שורת`print`.
****

[role="curriculum-javascript"]
.תרגלו
****
לפני שתריצו את הקוד, הסיקו מה יוצג בקונסול אחרי כל שורת`()println`.
****

[role="curriculum-python"]
[source,python]
----
# Printing: Using print() to print messages in the console

# Setup
from earsketch import *
setTempo(120)

# Variables
drum1 = OS_SNARE03
beat_string = "0---0---0-0-0---"

# First print statement
print(1 + 3)

# Looping our beat
# Note that the print statement is in the for loop so it will be executed at each iteration of the loop.
for measure in range(1, 5):
    makeBeat(drum1, 1, measure, beat_string)
    print(measure)
    print("ok")
----

[role="curriculum-javascript"]
[source,javascript]
----
// Printing: Using println() to print messages in the console

// Setup
setTempo(120);

// Variables
var drum1 = OS_SNARE03;
var beat_string = "0---0---0-0-0---";

// First print statement
println(1 + 3);

// Looping our beat
// Note that the print statement is in the for loop so it will be executed at each iteration of the loop.
for (var measure = 1; measure < 5; measure++) {
    makeBeat(drum1, 1, measure, beat_string);
    println(measure);
    println("ok");
}
----

הסבר למה שיוצג בקונסול:
----
4 (התוצאה של 1+3)
1 (בהתחלה ערכו של מונה התיבות measure הוא 1)
"ok"
2 (כעת ערכו של מונה התיבות measure הוא 2)
"ok" (בכל מעבר על הלולאה (איטרציה) יודפס ok)
3
"ok"
4
"ok"
----
הריצה מסתיימת כאן כי ערכו של מונה התיבות measure חייב להיות קטן מחמש.

.תרגלו
****
. צרו לולאת`for`עם המונה "measure" כדי להציב מחרוזת תיפוף בערוץ הראשון, בעזרת הפונקציה`()makeBeat`מתיבה אחת עד תיבה ארבע, כמו בווידאו
. שנו את הקוד, כך שההצבה תהיה מתיבה שלוש עד תיבה שבע
. שנו את הקוד כך שהביט יותר בערוץ השני ולא בערוץ הראשון. הוא עדיין יוצב מהתיבה השלישית עד השביעית
. כעת, שנו את שם המונה, בחרו ערוץ, תיבת התחלה ותיבת סיום וצרו לולאת`for`בהתאם
. הראו לחבר/ה את לולאת ה-`for`האחרונה, ובקשו ממנו/ה לומר באיזה ערוץ הביט, באיזו תיבה הוא מתחיל, באיזו תיבה הוא נגמר ומה שם המונה.
****

אפשר לכתוב יותר מהוראה אחת בתוך לולאת `for`.

[role="curriculum-python"]
לולאות`for` בפייתון מורכבות משלושה חלקים בסיסיים:

[role="curriculum-javascript"]
לולאות`for` ב-JavaScript מורכבות מארבעה חלקים בסיסיים:

[[loop-components-PY]]
.המרכיבים הבסיסיים של לולאת for
[role="curriculum-python"]
[caption="Figure 12.2: "]
image::../media/U1P2/Loop_Components_PY.png[Alt Text]

[[loop-components-JS]]
.המרכיבים הבסיסיים של לולאת for
[role="curriculum-javascript"]
[caption="Figure 12.2: "]
image::../media/U1P2/Loop_Components_JS.png[Alt Text]

[role="curriculum-python"]
* *גוף הלולאה*: מכיל את ההוראות שיתבצעו שוב ושוב. הגוף כולל כל מה *שמוזח* (בעזרת מקש _tab_) בשורות שמיד אחרי הנקודותיים`:`.
* *מונה הלולאה*: יוצר משתנה שישמש כמונה הלולאה.
* *טווח או Range*: פונקציה שיוצרת סדרה של מספרים. מונה הלולאה יקבל מספרים אחד אחרי השני. בכל איטרציה (ביצוע של גוף הלולאה) הוא יקבל מספר אחר מהסדרה. מילת המפתח `in` בודקת אם ערך מונה הלולאה הוא בטווח שצוין. לפונקציה`()range` שני פרמטרים, ערך ההתחלה (כולל) וערך הסיום (לא כולל): `range(startingNumber, endingNumber)`.

[role="curriculum-javascript"]
* *גוף הלולאה*: גוף הלולאה כולל הוראות שיתבצעו שוב ושוב. It is surrounded by curly braces `{ }` and is *indented* (using the _tab_ key).
* *אתחול*: יצירת משתנה שישמש *מונה לולאה*. האתחול נעשה לפני האיטרציה (ריצה של גוף הלולאה) הראשונה.
* *הוראת איטרציה*: הוראה שמעדכנת את מונה הלולאה. המונה גדל בכל איטרציה.
* *תנאי הלולאה*: בודק האם יש לבצע את הלולאה פעם נוספת. אם התנאי מתקיים, גוף הלולאה יבוצע. אם המונה גדול מדי, תנאי הלולאה לא יתקיים, והלולאה תסתיים. המחשב ימשיך לבצע את ההוראה הבאה אחרי הלולאה.

אפשר לכתוב יותר מהוראה אחת בתוך לולאת `for`.

[[controlflow]]
=== בקרת זרימה

הנה דוגמה נוספת לשימוש בלולאות`for`:

[role="curriculum-python curriculum-mp4"]
[[video12bpy]]
video::./videoMedia/012-03-ExampleLoop-PY.mp4[]

[role="curriculum-javascript curriculum-mp4"]
[[video12bjs]]
video::./videoMedia/012-03-ExampleLoop-JS.mp4[]

אפשר ליצור חזרות במוסיקה על-ידי הקלדה חוזרת של `()fitMedia` עם מספרי תיבה שונים:

[role="curriculum-python"]
[source,python]
----
# No loops: Musical repetition created without code loops

# Setup
from earsketch import *
setTempo(120)

# Music
drums1 = ELECTRO_DRUM_MAIN_BEAT_008
drums2 = ELECTRO_DRUM_MAIN_BEAT_007

# All of these fitMedia() calls could be replaced with two calls placed in a loop.

fitMedia(drums1, 1, 1, 1.5)
fitMedia(drums2, 1, 1.5, 2)
fitMedia(drums1, 1, 2, 2.5)
fitMedia(drums2, 1, 2.5, 3)
fitMedia(drums1, 1, 3, 3.5)
fitMedia(drums2, 1, 3.5, 4)
fitMedia(drums1, 1, 4, 4.5)
fitMedia(drums2, 1, 4.5, 5)
fitMedia(drums1, 1, 5, 5.5)
fitMedia(drums2, 1, 5.5, 6)
fitMedia(drums1, 1, 6, 6.5)
fitMedia(drums2, 1, 6.5, 7)
fitMedia(drums1, 1, 7, 7.5)
fitMedia(drums2, 1, 7.5, 8)
fitMedia(drums1, 1, 8, 8.5)
fitMedia(drums2, 1, 8.5, 9)
----

[role="curriculum-javascript"]
[source,javascript]
----
// No loops: Musical repetition created without code loops

// Setup
setTempo(120);

// Music
var drums1 = ELECTRO_DRUM_MAIN_BEAT_008;
var drums2 = ELECTRO_DRUM_MAIN_BEAT_007;

// All of these fitMedia() calls could be replaced with two calls placed in a loop.

fitMedia(drums1, 1, 1, 1.5);
fitMedia(drums2, 1, 1.5, 2);
fitMedia(drums1, 1, 2, 2.5);
fitMedia(drums2, 1, 2.5, 3);
fitMedia(drums1, 1, 3, 3.5);
fitMedia(drums2, 1, 3.5, 4);
fitMedia(drums1, 1, 4, 4.5);
fitMedia(drums2, 1, 4.5, 5);
fitMedia(drums1, 1, 5, 5.5);
fitMedia(drums2, 1, 5.5, 6);
fitMedia(drums1, 1, 6, 6.5);
fitMedia(drums2, 1, 6.5, 7);
fitMedia(drums1, 1, 7, 7.5);
fitMedia(drums2, 1, 7.5, 8);
fitMedia(drums1, 1, 8, 8.5);
fitMedia(drums2, 1, 8.5, 9);
----

אפשר להשתמש בלולאת`for`כדי ליצור את אותה המוסיקה בצורה יותר יעילה. מונה הלולאה הוא "measure". שימו לב לכך שגוף הלולאה כולל שתי שורות. בשתי השורות מופיע המשתנה "measure".

[role="curriculum-python"]
[source,python]
----
# Loops: Musical repetition created with code loops

# Setup
from earsketch import *
setTempo(120)

# Music
drums1 = ELECTRO_DRUM_MAIN_BEAT_008
drums2 = ELECTRO_DRUM_MAIN_BEAT_007

# Using a loop instead of repeatedly writing similar lines of code

for measure in range(1, 9):
    fitMedia(drums1, 1, measure, measure + 0.5)
    fitMedia(drums2, 1, measure + 0.5, measure + 1)
----

[role="curriculum-javascript"]
[source,javascript]
----
// Loops: Musical repetition created with code loops

// Setup
setTempo(120);

// Music
var drums1 = ELECTRO_DRUM_MAIN_BEAT_008;
var drums2 = ELECTRO_DRUM_MAIN_BEAT_007;

// Using a loop instead of repeatedly writing similar lines of code
for (var measure = 1; measure < 9; measure = measure + 1) {
    fitMedia(drums1, 1, measure, measure + 0.5);
    fitMedia(drums2, 1, measure + 0.5, measure + 1);
}
----

*המתרגם (interpreter)*, קורא ומבצע את הסקריפט. הסדר בו המתרגם מבצע את ההוראות נקרא *בקרת זרימה - control flow*. בדרך כלל המתרגם עובר שורה שורה, מלמעלה למטה. לכן צריך להגדיר משתנים לפני שמשתמשים בהם בקוד. 

לולאה היא *הוראת בקרת זרימה*, והיא משנה סדר זה. בסוף גוף הלולאה, המתרגם קופץ חזרה לתחילת הלולאה.

האנימציה הבאה מראה כיצד בקרת הזרימה נעה בלולאת`for`, ואיך ערך מונה הלולאה משתנה בכל *איטרציה*, או חזרה על גוף הלולאה:

[[loop-py]]
.לולאת for, צעד אחרי צעד
[role="curriculum-python"]
[caption="Figure 12.4: "]
image::../media/U1P2/LoopPy_updated.gif[Alt Text]

.לולאת for, צעד אחרי צעד
[role="curriculum-javascript"]
[caption="Figure 12.4: "]
[[loop-js]]
image::../media/U1P2/LoopJS_updated.gif[Alt Text]

////
Although it is valid syntax, a `*monospace bold phrase*` causes a build error in AsciidocFX. Might be something to do with DocBook conversion. No bold for now. May see how ES handles it in the future.

BMW
////

דבר מעניין, אחרון, על לולאות`for`הוא אינקרמנטציה.

[role="curriculum-python"]
אינקרמנטציה, פירושה הגדלה. הגדלת הערך של מונה הלולאה. בלולאת `for` השתמשנו בפונקציה `()range`כדי להגדיל את ערכו של המונה. לפונקציה יש שני פרמטרים: `startingNumber`ו- `endingNumber` (הטווח לא כולל ערך זה). יש פרמטר, אופציונלי, שלישי: `increment`. ערך ברירת המחדל של `increment`הוא אחד, אבל ניתן לתת לו ערכים גדולים יותר.

[role="curriculum-javascript"]
איקרמנטציה, פירושה הגדלה. הגדלת הערך של מונה הלולאה. בלולאת `for` השתמשנו ב:`measure = measure + 1`. זה הגדיל את המונה`measure` ב-1 בכל איטרציה (ריצה של גוף הלולאה). אפשר להגדיל את ערך המונה ביותר מאחד. לדוגמה:`measure = measure + 4`.

.תרגלו
*****
לפני שתריצו את הקוד, נסו להסיק מה הוא עושה.
*****

[role="curriculum-python"]
[source,python]
----
# Incrementing: Creating an alternating drum beat

from earsketch import *
setTempo(120)

groove1 = HIPHOP_DUSTYGROOVE_011
groove2 = HIPHOP_DUSTYGROOVE_010

for measure in range(1, 9, 4):
    fitMedia(groove1, 1, measure, measure + 2)
    fitMedia(groove2, 2, measure + 2, measure + 4)
----

[role="curriculum-javascript"]
[source,javascript]
----
// Incrementing: Creating an alternating drum beat

setTempo(120);

var groove1 = HIPHOP_DUSTYGROOVE_011;
var groove2 = HIPHOP_DUSTYGROOVE_010;

for (var measure = 1; measure < 9; measure = measure + 4) {
    fitMedia(groove1, 1, measure, measure + 2);
    fitMedia(groove2, 2, measure + 2, measure + 4);
}
----


[role="curriculum-python"]
כאן השתמשנו בפונקציה`()range`, אבל אפשר להגדיל או להקטין את הערך של המשתנה בעזרת: `measure = measure + 1`. משמעות הפעולה היא ש-measure שווה עכשיו לערכו הקודם ועוד אחד. אפשר לכתוב בקיצור `=+` (או `=-` כדי להקטין את הערך). נעשה זאת כך: ל-`measure += 1` אותה משמעות כמו ל- `measure = measure + 1`. ול-`measure -=1`אותה משמעות כמו ל-`measure = measure - 1`

[role="curriculum-javascript"]
כאן כתבנו`measure = measure + 4`, שמשמעותו ש-measure שווה עכשיו לערכו הקודם ועוד ארבע. אפשר להשתמש בקיצורים הבאים:
 `=+` (או`=-` להקטנת הערך). הביטויים הבאים הם דרך קצרה להגדיל או להקטין את ערכו של המונה:

* `++measure`, או `measure += 1`יגדילו את ערכו של measure באחת. אם נרצה להגדיל את ערכו של measure בשתיים, נכתוב `measure += 2`.
* `--measure`, או`measure -= 1` מקטינים את ערכו של measure באחת. אם נרצה להקטין את ערכו של המונה בשתיים, נכתוב use `measure -= 2`.


[[debuggingtips]]
=== טיפים לתיקון שגיאות (debugging)

תכנות הוא לא רק כתיבת קוד. תכנות הוא גם תיקון שגיאות ותחזוקת הקוד. Debugging פירושו תיקון השגיאות בקוד. כשתתקלו בשגיאה, נסו את הצעדים הבאים:

[role="curriculum-python"]
. *קריאת ההודעות בקונסול*.
. *מציאת מקום השגיאה בקוד:* ישנן שלוש אפשרויות. 1. אם ההודעה בקונסול מציינת מספר שורה, יש לבדוק את השורה הזו ואת השורה שלפניה בקוד. 2. שימוש בהפיכת שורות להערות. אפשר לדייק את מיקום ואופי השגיאה על-ידי הפיכת בלוק של קוד להערה, והרצת הקוד. אם ההרצה, כעת, נקייה משגיאות, אז השגיאה היא בחלק שהפך להערה. 3. *תיקון שגיאות בעזרת print* יכול, גם הוא, לעזור במציאת מקום השגיאה. יש לקרוא את קטע הקוד בו נמצאת השגיאה ולעקוב אחרי אופן פעולתו. בעזרת `print` ניתן להדפיס ערכים של משתנים (או הודעות), כשאופן פעולת הקוד לא ברורה. ההדפסות מאפשרות להשוות השערות בדבר ערכי משתנים ואופן הפעולה, למה שהקוד מבצע בפועל. 
. *תיקון השגיאה* בדיקת השגיאות, עריכת הקוד בהתאם והרצה חוזרת של הקוד כדי לוודא את נכונותו.
. *בקשת עזרה*: אם אחרי השקעת זמן רב השגיאה לא תוקנה, כדאי לבקש עזרה מחבר/ה. זוג עיניים רענן יכול לחולל פלאים! 

[role="curriculum-javascript"]
. *קריאת ההודעות בקונסול*.
. *מציאת מקום השגיאה בקוד:* ישנן שלוש אפשרויות. 1. אם ההודעה בקונסול מציינת מספר שורה, יש לבדוק את השורה הזו ואת השורה שלפניה בקוד. 2. שימוש בהפיכת שורות להערות. אפשר לדייק את מיקום ואופי השגיאה על-ידי הפיכת בלוק של קוד להערה, והרצת הקוד. אם ההרצה, כעת, נקייה משגיאות, אז השגיאה היא בחלק שהפך להערה. 3. *תיקון שגיאות בעזרת print* יכול, גם הוא, לעזור במציאת מקום השגיאה. יש לקרוא את קטע הקוד בו נמצאת השגיאה ולעקוב אחרי אופן פעולתו. בעזרת `()println` ניתן להדפיס ערכים של משתנים (או הודעות), כשאופן פעולת הקוד לא ברורה. ההדפסות מאפשרות להשוות השערות בדבר ערכי משתנים ואופן הפעולה, למה שהקוד מבצע בפועל. 
. *תיקון השגיאה* בדיקת השגיאות, עריכת הקוד בהתאם והרצה חוזרת של הקוד כדי לוודא את נכונותו.
. *בקשת עזרה*: אם אחרי השקעת זמן רב השגיאה לא תוקנה, כדאי לבקש עזרה מחבר/ה. זוג עיניים רענן יכול לחולל פלאים! 

קטע הווידאו מדגים, שלב אחרי שלב, תיקון שגיאות בעזרת הדפסת ערכי משתנים:

[role="curriculum-python curriculum-mp4"]
[[video15py]]
video::./videoMedia/015-02-TheDebuggingProcess-PY.mp4[]

[role="curriculum-javascript curriculum-mp4"]
[[video15js]]
video::./videoMedia/015-02-TheDebuggingProcess-JS.mp4[]

הצגנו רשימת שגיאות אפשריות בפרק הראשון. להלן רשימה של שגיאות אפשריות נוספות:

[role="curriculum-python"]
. *אתחול משתנים*: יש לאתחל משתנים לפני השימוש בהם בסקריפט. פירוש הדבר, שיש להציב ערך במשתנים בתחילת הסקריפט.
. *Comments:* Improper commenting will cause a <</en/v1/every-error-explained-in-detail#syntaxerror, syntax error>>. הערות בפייתון חייבות להתחיל בסימן `#`.
. *הזחה (אינדנטציה):* הזחה היא קריטית בפייתון. Lack of indentation in `for` loop bodies will cause an <</en/v1/every-error-explained-in-detail#indentationerror, indentation error>>.
. *Quotations:* Forgetting an opening or closing quotation mark can also cause a <</en/v1/every-error-explained-in-detail#syntaxerror, syntax error>>.
. *פרמטרים:* טעויות בפרמטרים של פונקציה יכולים לגרום לכל מיני סוגים של שגיאות. חובה לספק מספר נכון של פרמטרים מהטיפוס הדרוש.

[role="curriculum-javascript"]
. *אתחול משתנים*: יש לאתחל משתנים לפני השימוש בהם בסקריפט. פירוש הדבר, שיש להציב ערך במשתנים בתחילת הסקריפט. יש לאתחל את המשתנים בעזרת `var`.
. *Comments:* Improper commenting will cause a <</en/v1/every-error-explained-in-detail#syntaxerror, syntax error>>. הערות ב-JavaScript חייבות להתחיל ב-`//`.
. *נקודה פסיק:* כל הוראה ב-JavaScript חייבת להסתיים ב-;. 
. *Quotations:* Forgetting an opening or closing quotation mark can also cause a <</en/v1/every-error-explained-in-detail#syntaxerror, syntax error>>.
. *פרמטרים:* טעויות בפרמטרים של פונקציה יכולים לגרום לכל מיני סוגים של שגיאות. חובה לספק מספר נכון של פרמטרים מהטיפוס הדרוש. 


Take a look at <</en/v1/every-error-explained-in-detail#, Every Error Explained in Detail>> for a full description of different error types and what you can do to prevent them.


[[musicaltips]]
=== טיפים מוסיקליים

כעת, אחרי שהכרנו כלים רבים ליצירת מוסיקה, כמו הפונקציה `()fitMedia`, הפונקציה`()makeBeat`ולולאות`for`, נכיר מספר רעיונות מוסיקליים.

נתחיל עם *הסולם (key)* של היצירה. שימו לב לכך שבעברית המילה סולם מציינת שני מונחים באנגלית scale ו-key:

* *גובה הצליל (pitch)* מורה כמה גבוה או נמוך נשמע הצליל. טונים מוסיקליים יחסיים מסודרים *בסולם (scale)*, או קבוצה של תווים מוסיקליים המסודרים לפי האופן בו אנו שומעים התדר של הצלילים. 
* *הסולם (key)* של שיר קובע את הסולם (scale), או קבוצת גבהי הצלילים, מהם המוסיקה מורכבת. סולם (key) יכול להיות מז'ורי (בדרך כלל נשמע "שמח" יותר) או מינורי (בדרך כלל נשמע "עצוב" יותר). 
* למלחינות מתחילות ולמלחינים מתחילים מומלץ להשתמש בסולם (key) אחד בשיר שלכם. שימוש בצלילים מסולמות שונים עלול לשיר להישמע "מזייף". הקליפים באותה תיקייה בספריית הצלילים של EarSketch, הם כולם באותו סולם. 

האזינו לקליפ, ושמעו את ההבדל בין סולם מז'ורי לסולם מינורי:

++++
<div class="curriculum-mp3">audioMedia/MajorMinor.mp3</div>
++++

כעת נדון בסוגים שונים של ערוצים שיכולים להיות בשיר. אפשר להשתמש בערוץ נפרד של ה-DAW לכל כלי בשיר. בשיר פופ, אפשר למצוא את הערוצים הבסיסיים הבאים:

* המלודיה היא הרעיון העיקרי, שלעיתים קרובות, מנוגן או מושר בצלילים הגבוהים. המלודיה היא "התווים שהזמר/ת שר/ה".  המלודיה יכולה להיות מושרת, מנוגנת בגיטרה או מנוגנת בצלילים הגבוהים של הקלידים.
* ההרמוניה מורכבת מצלילים ארוכים יותר "שתומכים במלודיה" כמו האקורדים בפסנתר, בגיטרה או בהרכב כלי מיתר.
* ישנו גם הבס (base line). ערוץ הבס מורכב מהצלילים הנמוכים יותר. הוא יכול להכיל נגינה של קונטרבס, גיטרה בס, צ'לו או הצלילים הנמוכים של הקלידים.
* ולסיום, ערוץ כלי ההקשה. אם משתמשים ב-`()makeBeat`, יכולים להיות מספר ערוצים כאלה. לדוגמה, יכול להיות ערוץ אחד לקיק (kick), ערוץ שני לסנר (snare) וערוץ שלישי להיי-האט (hi-hat).

אלה הם רעיונות בסיסיים לסוגי ערוצים, שיוצרים את המבנה של מרקם השיר. אבל לשיר יכולים להיות חלקים שמכילים שמילים רק אחד או שניים מארבעת הסוגים. אפשר להוסיף ערוצים רבים נוספים: אפשר ליצור מלודיה שנייה, להוסיף נקודת עוגב (drone באנגלית. תו ארוך מאוד ברקע), קולות מוקלטים... נסו והחליטו מה מוצא חן באוזניכן/ם!

לסיום נדון ב*חזרה* וב*ניגודיות (קונטרסט)*. בני אדם אוהבים חזרות בגלל מה שהפסיכולוגים מכנים "אפקט החשיפה גרידא". כשהמוח שומע קטע מוסיקלי הוא מנסה לנחש מה יהיה התו הבא, מה שגורם למאזין/ה להרגיש שותפות בנגינה. כמו כן, בכל פעם שהקטע חוזר, המאזין/ה יכול/ה להבחין בפרטים נוספים ביצירה, כי המוח כבר לא צריך להתמקד בעיבוד החומר המלודי הגולמי.

קונטרסט מתייחס להבדלים בין קטעים עוקבים של מוסיקה, היוצרים איזון חשוב עם החזרה. קונטרסט משמש להבאת אלמנטים חדשים לתשומת לב המאזין/ה. קונטרסט יכול להיווצר בעזרת: שינויים ריתמיים, קווים מלודיים חדשים, הרמוניות חדשות או שינויים בכלים או בצלילים. דוגמה טובה לקונטרסט נמצאת בסביבות 21'0 (השנייה ה-21) ו-01'1 (דקה ושנייה) בשיר https://www.youtube.com/watch?v=AjjlABP5t1Q[Dream State] של Son Lux.

.תרגלו
****
צרו שיר בעזרת:

* נושא (ציינו את הנושא בהערות בתחילת הקוד)
* הפונקציות `()fitMedia` ו-`()makeBeat`
* לולאת `for`אחת, או יותר, עם `()fitMedia` או `()makeBeat`
* לפחות ארבעה ערוצים
* לפחות 16 תיבות
* לפחות קליפ אחד שהועלה לספריית הצלילים
* הערות ומשתנים לארגון הקוד

זכרו שאתם יכולים לנסות דברים שונים ולשמור רק את מה שנשמע טוב ומשרת את השיר. שתפו את המוסיקה שיצרתם!
****



[[chapter4summary]]
=== סיכום פרק רביעי

[role="curriculum-python"]
* לולאת *for* מורה למחשב לבצע קטע קוד מספר פעמים, ויוצרת קוד יעיל יותר. לולאות`for` מורכבות מגוף הלולאה, מונה הלולאה והטווח. הקוד בגוף הלולאה חייב להיות מוזח ימינה.
* *בקרת הזרימה* מייצגת את סדר הביצוע, על-ידי המחשב, של ההוראות בקוד.
* הוראת`print` מחשבת את ערכו של הביטוי שמועבר כפרמטר ומדפיסה אותו בקונסול. זה כלי שימושי לתיקון שגיאות (debugging) כי הוא מאפשר ללמוד על מצב התכנית וערכי המשתנים.
* הדפסה, הפיכת שורות קוד להערות והקונסול יכולים לעזור בתיקון שגיאות. בנוסף, בקשת עזרה יכולה לזרז את תהליך תיקון השגיאות.
* Revisit the expanded list of common programming errors: <<debugging-and-documenting#commonerrors, Common Errors>>.
* *גובה הצליל (pitch)* קובע כמה גבוה או נמוך הצליל נשמע בסולם יחסי.
* *הסולם (key)* קובע את *הסולם (scale)*, או קבוצת גבהי צלילים, בהם היצירה מולחנת, וגם את *צליל הטוניקה*. סולמות (keys) הם מז'וריים או מינוריים, דבר שמשרה על המאזין/ה הלכי רוח שונים.
* אפשר להשתמש בשלושה ערוצים כשלד של השיר: מלודיה (בצלילים גבוהים יחסית) בס (בצלילים נמוכים יחסית) וכלי הקשה.

[role="curriculum-javascript"]
* לולאת *for* מורה למחשב לבצע קטע קוד מספר פעמים, ויוצרת קוד יעיל יותר. לולאות`for` מורכבות מגוף הלולאה, אתחול, הוראת איטרציה ותנאי הלולאה. הקוד בגוף הלולאה צריך להיות מוזח ימינה.
* *בקרת הזרימה* מייצגת את סדר הביצוע, על-ידי המחשב, של ההוראות בקוד.
* הפונקציה`()println` מחשבת את ערכם של הביטויים שמועברים כפרמטרים ומדפיסה אותם בקונסול. זה כלי שימושי לתיקון שגיאות (debugging) כי הוא מאפשר ללמוד על מצב התכנית וערכי המשתנים.
* הדפסה, הפיכת שורות קוד להערות והקונסול יכולים לעזור בתיקון שגיאות. בנוסף, בקשת עזרה יכולה לזרז את תהליך תיקון השגיאות.
* Revisit the expanded list of common programming errors: <<debugging-and-documenting#commonerrors, Common Errors>>.
* *גובה הצליל (pitch)* קובע כמה גבוה או נמוך הצליל נשמע בסולם יחסי.
* *הסולם (key)* קובע את *הסולם (scale)*, או קבוצת גבהי צלילים, בהם היצירה מולחנת, וגם את *צליל הטוניקה*. סולמות (keys) הם מז'וריים או מינוריים, דבר שמשרה על המאזין/ה הלכי רוח שונים.
* אפשר להשתמש בשלושה ערוצים כשלד של השיר: מלודיה (בצלילים גבוהים יחסית) בס (בצלילים נמוכים יחסית) וכלי הקשה.


[[chapter-questions]]
=== שאלות

[question]
--
מי מהבאים אינו רכיב של לולאת`for`?
[answers]
* מתרגם הלולאה
* מונה הלולאה
* גוף הלולאה
* טווח (range) הלולאה
--

[question]
--
מי מהמשפטים הבאים אינו מתאר שימוש מוצלח של לולאות ביצירה מוסיקלית?
[answers]
* יצירת תבנית ביטים שאינה חוזרת על עצמה
* מיקום קליפ בכל תיבה שלישית
* חזרה על ביט במספר תיבות סמוכות
* מיקום קליפים בתיבות אי-זוגיות
--

[question]
--
מי מהמשפטים הבאים לא מתאר טכניקה מומלצת לתיקון שגיאות?
[answers]
* העתקה והדבקה של קטעי קוד במנוע החיפוש של Google
* הדפסת ערכי משתנים לקונסול
* בדיקת שורות שגויות שמספרן מצוין בקונסול
* בקשת עזרה מחבר/ה
--

[question]
--
מי מהבאים לא יכול להיות מודפס בקונסול?
[answers]
* הערות בקוד
* מחרוזות (Strings)
* ביטויים מתמטיים
* משתנים
--

[question]
--
____ היא איכות של הצליל הקובעת האם הצליל יישמע גבוה או נמוך.
[answers]
* גובה (pitch)
* טמפו
* מקצב
* עוצמה
--

