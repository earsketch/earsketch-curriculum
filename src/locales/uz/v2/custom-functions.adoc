[[customfunctionssongstructure]]
== Maxsus Funktsiyalar va Qo'shiq Tuzilmasi

:nofooter:

Qo'shiq tuzilmasi vaqt o'tishi bilan qo'shiqni tashkillashtirishdir. Maqsad musiqangiz oqimi uchun mazmunli bo'limlar va o'tishlarni yaratishdir. Ushbu bobda siz qo'shiqlaringizni tuzish uchun shaxsiy funktsiyangizni, maxsus funktsiyalarni yaratasiz!

[[asongsstructure]]
=== Qo'shiq tuzilishi

:nofooter:

Qo'shiqni *bo'limlarga* bo'lish mumkin. Bo'lim bir nechta o'lchovlardan (musiqiy vaqt birliklaridan) iborat bo'lib, u fikr yoki tuyg'uni ifodalaydi. Odatda, musiqachilar turli bo'limlar o'rtasida kontrast qo'shishga harakat qilishadi. _Muqaddimalar, She'rlar, Naqoratlar_ va _Xotimalar_ bo'limlarga misoldir.

Umumiy va oddiy *shakl* yoki qo'shiq tuzilishi ABA hisoblanadi. A va B ikki xil bo'limdir, masalan, naqorat va she'r. B bo'limi rang-baranglikni qo'shadi, A bo'limiga qaytish esa boxabarlikni chaqiradi. Quyidagi kod ABA shaklini yaratadi. B bo'limida A bo'limiga nisbatan kontrast tovushlar mavjud - sekinroq va balandroq bass va qo'shimcha shitirlash:

[[imediau2sections_052016png]]
.EarSketch RAIS ichidagi ABA shakli
[caption="Figure 9.2: "]
image::../media/U2/sections_052016.png[Alt Text]

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-a-b-a-form.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-a-b-a-form.js.txt[]
----

{nbsp} +

.AMALIYOT
****
O'zingizga yoqqan qo'shiqni tanlang. Uni tinglang va turli bo'limlarga e'tibor berishga harakat qiling. Musiqachilar bo'limlarni qachon o'zgartirishini ayta olasizmi? Naqorat va she'rni nechi marta eshittingiz? Qanday kontrastni kuzata olyapsiz? O'zingizning misolingizni qo'shningiz bilan baham ko'ring.
****

Yodda tutingki, kliplar 2, 4, 8, 16 guruhlarga ajratilganda musiqiy ibora tabiiy eshitiladi. Shuning uchun, sizning bo'limlaringiz 2, 4, 8, 16 o'lchovlarga ega bo'lishi kerak.

[[creatingyourcustomfunctions]]
=== Maxsus funktsiyalaringizni yarating

ABA qo'shig'i bilan oldingi misolda kod katta bo'lib, u ikkinchi A bo'limi uchun ham takrorlanadi. *Maxsus funktsiyalar* ko'magida yanada samaraliroq bo'lish yo'li bor! Biz A bo'limini ifodalovchi funktsiyani aniqlaymiz, so'ngra funktsiyani ikki marta chaqiramiz.

`fitMedia()` kabi funktsiyalardan farqi shundaki, `fitMedia()` qo‘shiqni ijro etish uchun jamoamiz tomonidan oldindan belgilab qo‘yilgan. Maxsus funktsiyada siz uning nima qilishini aniq belgilashingiz mumkin. A bo'limini mana shunday belgilashingiz mumkin:

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-untitled1.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-untitled1.js.txt[]
----

. `sectionA()` funktsiyamiz uchun tanlagan nomdir. O'zingizga yoqqan har qanday nomni tanlashingiz mumkin. Funktsiyangizni tavsiflovchi tarzda nomlashga harakat qiling, shunda kodingizni o'qish osonroq bo'ladi.
. Ko'rsatmalar funktsiyaning *tanasi* hisoblanadi. Ular chekingan bo'ladi.

.AMALIYOT
****
Ushbu kodni yangi skriptga joylashtiring va uni ishga tushiring. Siz RAIS bo'sh qolganligini ko'rishingiz kerak.
Buning sababi, uni ishlatish uchun funktsiyani *chaqirishingiz* kerak.
Funktsiyangizni chaqirish uchun funktsiya izohidan so'ng `sectionA()` qatorini chekintirmasdan qo'shing. Kodni ishga tushirishda siz RAIS-da A bo'limini ko'rishingiz kerak
****

Endi biz A bo'limini 9 dan 13 gacha o'lchovlarda qo'shmoqchimiz. Biroq, `sectionA()` ni chaqirganimizda, tovushlar 1 dan 5 gacha o'lchovlardan joylashtiriladi. Ushbu muammoni hal qilishda biz funktsiyamiz uchun *parametrlarni* yaratamiz.

.AMALIYOT
****
Avvalgi amaliyot muammosi uchun siz joriy skriptingizda yaratgansiz:

1. sectionA funktsiyasi ta'rifi uchun qavslar ichida hamda vergul bilan ajratilgan `startMeasure` va `endMeasure` parametrlarini qo'shing: `sectionA(startMeasure,endMeasure)`.
1. Funktsiyaning tanasida boshlan'ich o'lchovlarini (`1`) va yakunlash o'lchovlarini (`5`) mos ravishda `startMeasure` va `endMeasure` bilan almashtiring.
1. Funktsiyangizni chaqirganingizda, qavslar orasiga `1` va `5` parametrlarini qo'shing. Hech qanday xato yo'qligiga ishonch hosil qilish uchun kodni ishga tushiring.
1. Bu safar `9` va `13` parametrlari bilan ikkinchi funktsiya chaqiruvini qo'shing. Hech qanday xato yo'qligiga ishonch hosil qilish uchun kodni ishga tushiring.
1. Xuddi shu jarayondan foydalanib, B bo'limi uchun funktsiyani aniqlang hamda 5 dan 9 gacha va 13 dan 17 gacha bo'lgan o'lchovlardan B qismini chaqiring.
****

Sizning kodingiz shunday ko'rinishi mumkin:

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-a-b-a-b-form-and-custom-functions.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-a-b-a-b-form-and-custom-functions.js.txt[]
----

//The following video will be cut in 2 with the beginning going to chapter 7.1, and the end to this chpater. For more info see https://docs.google.com/spreadsheets/d/114pWGd27OkNC37ZRCZDIvoNPuwGLcO8KM5Z_sTjpn0M/edit#gid=302140020//

[role="curriculum-python curriculum-mp4"]
[[video93py]]
video::./videoMedia/009-03-CustomFunctions-PY.mp4[]

[role="curriculum-javascript curriculum-mp4"]
[[video93js]]
video::./videoMedia/009-03-CustomFunctions-JS.mp4[]

[[transitionstrategies]]
=== O'tish Strategiyalari

Endi siz qo'shiqni tuzish uchun maxsus funktsiyalarni qanday yaratishni bilasiz, keling, o'tishlarni ko'rib chiqaylik. *O'tishlar* bir bo'lim ikkinchisiga silliq o'tishiga yordam beradi. Ular she'r va naqoratni bog'lashi, notalarni biriktirishi, treklar o'rtasida miks qilish (DJ-lik) yoki ohangni o'zgartirishi mumkin. O'tishning maqsadi tinglovchining e'tiborini jalb qilish va ularga o'zgarish sodir bo'lishini bildirishdir.

Quyida musiqiy o'tishlarni yaratish uchun mashhur strategiyalar keltirilgan:

. *To'qnashuv Simbali*: To'qnashuv Simbalini yangi qismning birinchi zarbasiga joylashtirish.
. *Baraban bilan toʻldirish*: Yangi boʻlim oldidagi boʻshliqni toʻldirish uchun ritmik oʻzgarishlar.
. *Trekni o'chirish*: Dramatik effekt uchun ba'zi treklarni vaqtinchalik o'chirib qo'yish yoki uzish.
. *Ohangning o'zgarishi*: yangi bo'lim oldidan akkordlar, bass qatori yoki ohangning o'zgarishini kiritish. Ko'p xollarda, EarSketch tovush kutubxonasida shunga o'xshash riffning turlari mavjud.
. *Ko'taruvchi*: Tovush pardasini oshiradigan nota yoki shovqin. EDM (Elektron Raqs Musiqasi) da juda keng tarqalgan va tushriib qoldirishdagi intiqishni yaratadi. Tovush Brauzerida "ko'taruvchi" qidiruv terminidan foydalanishingiz mumkin. Teskari to'qnashuv simbalidan ko'taruvchi sifatida foydalanish mumkin, masalan YG_EDM_REVERSE_CRASH_1.
. *Pistirma Kasri*: ortib borayotgan zichlik, tovush pardasi yoki amplituda bilan takrorlangan pistirma urishlar ketma-ketligi. Siz RD_FUTURE_DUBSTEP_FILL_1 yoki HOUSE_BREAK_FILL_003 kabi klipdan yoki `makeBeat()` bilan foydalanishingiz mumkin.
. *Halqalash*: yangi qism oldidan qisqa musiqa segmentini takrorlash.
. *Krossfeyding*: Bir qismning ovozini balandligini pasaytirish va yangi bo'limning ovoz balandligini oshirish.
. *Anakrusis*: Yangi bo'limning ohangi ikki zarbaga ertaroq boshlanganadi.

.AMALIYOT
****
Mumkin bo'lgan o'tishlarning ushbu ro'yxatiga qarab, ulardan 2 tasini tanlang va ularni kod yordamida qanday amalga oshirishingiz mumkinligini ko'rishga harakat qiling. Siz juftlikda ishlashingiz mumkin. Bu haqda o'ylab ko'rganingizdan so'ng, quyidagi misollarni ko'rishingiz mumkin.

O'tishni yangi qismdan 1 yoki 2 o'lchovga avvalroq qo'yish kerak. Bir vaqtning o'zida bir nechta o'tish uslubidan foydalanishingiz mumkin.
****

Baraban bilan to'ldirishlar:

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-transition-techniques-drum-fill.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-transition-techniques-drum-fill.js.txt[]
----

Trekni uzish uslubi faqat bir-ikkita`fitMedia()` chaqiruvlarini o'zgartirishni talab qiladi. Quyida misol keltirilgan.

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-transition-techniques-track-droupouts.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-transition-techniques-track-droupouts.js.txt[]
----

Keyingi misol, o'tish jarayonida bir nechta ko'taruvchilar va to'qnashuv simbalidan foydalaniladi.

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-transition-techniques-risers.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-transition-techniques-risers.js.txt[]
----

{nbsp} +

[[yourfullsong]]
=== Sizning to'liq qo'shig'ingiz

Dasturlashda biz *abstraksiyalarni* yaratishimiz mumkin, ya'ni yagona tushunchani shakllantirish uchun g'oyalar to'plami. Musiqada biz musiqiy g'oyalarni bo'limlarga ajratamiz. Funktsiyalar - bu informatika fanida qo'llaniladigan mavhumlikning bir turi. Ular bir nechta bayonotlarni bitta vositaga to'playdi, shuning uchun ularga osongina murojaat qilish mumkin. Abstraktsiyalar dastur shaklini aniqroq qilishi mumkin.

.AMALIYOT
****
Keling, EarSketch-da siz kashf etgan barcha vositalardan foydalangan holda to'liq qo'shiq yarataylik! Bu erda qanday ishlash bo'yicha taklif bor, lekin uni xohlaganingizcha moslashtirishingiz mumkin:

. Qo'shiq uchun mavzuni tanlang. Sizning xabaringizni eng zo'r yetkazadigan tovushlar, asboblar yoki so'zlarning turi haqida o'ylab ko'ring.
. So'ng oddiy tuzilmani tanlang.
. Va nihoyat, dasturlashni boshlang! Tovushlarni tanlash uchun `fitMedia()` funktsiyalaridan boshlang.
. Zarbdorlik qoʻshish uchun `makeBeat()` dan foydalaning.
. Siz shaxsiy tovushlaringizni yuklashingiz mumkin.
. Kodingizdagi takrorlanishni kamaytirish uchun `for` halqalaridan foydalaning.
. Bo'limlaringizni belgilash va qo'shiq tuzilmangizni yaratish uchun maxsus funktsiyalardan foydalaning.
. Bir yoki ikkita mazmunli o'tishni qo'shing.
. SetEffect() yordamida effektlar qo'shing.
. Bir yoki bir nechta shartli bayonotlarni qo'shing.
. Ovozli klip nomlari kabi ba'zi ma'lumotlarni saqlash uchun o'zgaruvchilardan foydalanganingizga ishonch hosil qiling.
. Nima qilayotganingizni tushuntirish uchun sharhlardan foydalanganingizga ishonch hosil qiling.
. Kodingizni muntazam ravishda ishga tushirishni va qo'shiqni tinglashni unutmang. Bu sizga uning yangrashi o'zingizga yoqmagunga qadar uni o'zgartirishga yordam beradi.
. Qo'shiq uchun nom tanlang.
****

Mana to'liq qo'shiqning namunasi:

[role="curriculum-python"]
[source,python]
----
include::code-examples/custom-functions-total-atlanta-song-of-summer.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/custom-functions-total-atlanta-song-of-summer.js.txt[]
----

Ushbu misolda biz maxsus funktsiya ichida `for` halqasidan foydalandik! Biz for halqasi ichida (`start` va `end`) funktsiya parametrlaridan foydalandik.

[[chapter7summary]]
=== 7-Bob Xulosa

* *Bo'limlar* bir nechta o'lchovlardan tashkil topgan o'zaro bog'liq musiqa birliklari. Ularning har biri g'oya yoki his-tuyg'ularni ifodalaydi.
* *Oʻtishlar* musiqaning ketma-ket musiqiy boʻlimlarini bogʻlash uchun foydalaniladigan parchalardir.
* Qo'shiqning tuzilishi va xilma-xilligi uning *shakli* deb nomlanadi. A-B-A keng qo'llaniladigan musiqiy shakl hisoblanadi.
* *Maxsus funktsiyalar* - bu muayyan vazifani bajarish uchun dasturchi tomonidan yozilgan noyob funktsiyalar. Uni chaqira olish uchun maxsus funktsiya yaratishingiz kerak. Siz xohlagancha ko'p parametrlarni yaratishingiz mumkin.
* *Abstraktsiya* - bu yagona, ko'pincha unchalik murakkab bo'lmagan tushunchani shakllantirish uchun g'oyalar to'plami. Funktsiyalar abstraktsiyaga bir misoldir.

[[chapter-questions]]
=== Savollar

[question]
--
Bulardan qaysi biri musiqiy qismga misol EMAS?

[answers]
* Barabanlar
* Muqaddima
* She'r
* Naqorat
--

[question]
--
Abstraksiya nima?

[answers]
* Yagona tushunchani shakllantirish uchun g'oyalar to'plami
* Bo'limlar bo'ylab turli xil tovushlar
* Qo'shiqning o'zaro bog'liq bo'lgan, shu bilan birga bir-biridan farq qilgan qismlari
* Funktsiya chaqiruviga qiymat qaytaruvchi bayonot
--

[role="curriculum-python"]
[question]
--
Ushbu variantlardan qaysi biri `myFunction()` funktsiyasini `startMeasure` va `endMeasure` parametrlari bilan toʻgʻri belgilaydi?

[answers]
* `def myFunction(startMeasure, endMeasure):`
* `def myFunction():`
* `myFunction(startMeasure, endMeasure):`
* `myFunction(2, 5)`
--

[role="curriculum-javascript"]
[question]
--
Ushbu variantlardan qaysi biri `myFunction()` funktsiyasini `startMeasure` va `endMeasure` parametrlari bilan toʻgʻri belgilaydi?

[answers]
* `function myFunction(startMeasure, endMeasure) {}`
* `function myFunction() {}`
* `myFunction(startMeasure, endMeasure){}`
* `myFunction(2, 5)`
--

[question]
--
Bulardan qaysi biri o'tish uslubiga misol EMAS?

[answers]
* Ohangning Izchilligi
* To'qnashuv Simbali
* Ko'taruvchi
* Trekning ovozini o'chirish
--