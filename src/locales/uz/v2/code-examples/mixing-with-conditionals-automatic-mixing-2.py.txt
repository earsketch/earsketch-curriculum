# Avttomatix ravishta miks qilish 2: Treklarni miks qilish uchun shartli bayonotlarni ishlatish

# Sozlash
from earsketch import *
setTempo(120)

# Ohang va bass qo'shish
melody1 = YG_ALT_POP_GUITAR_3
melody2 = YG_ALT_POP_GUITAR_1
bass1 = YG_ALT_POP_BASS_1
bass2 = DUBSTEP_SUBBASS_008
strings = YG_HIP_HOP_STRINGS_4
fitMedia(melody1, 1, 1, 9)
fitMedia(melody2, 1, 9, 17)
fitMedia(bass1, 2, 1, 9)
fitMedia(bass2, 2, 9, 17)
fitMedia(strings, 3, 9, 17)

# makeBeat() bilan zarbalarni qo'shish
beatKick = "0---0-----0-0---"
beatSnare = "--0-0------000-"
soundKick = OS_KICK02
soundSnare = OS_SNARE06
for measure in range(5, 17):
    makeBeat(soundKick, 4, measure, beatKick)
    makeBeat(soundSnare, 5, measure, beatSnare)

# Treklarni miks qilish
# Avval biz treklarning ovozini balandligini tahlil qilamiz
loudnessTrack1 = analyzeTrack(1, RMS_AMPLITUDE)
print("1-trekning balandligi" + str(loudnessTrack1))
loudnessTrack2 = analyzeTrack(2, RMS_AMPLITUDE)
print("2-trekning balandligi" + str(loudnessTrack2))
loudnessTrack3 = analyzeTrack(3, RMS_AMPLITUDE)
print("3-trekning balandligi" + str(loudnessTrack3))

if loudnessTrack1 < loudnessTrack2:
    # agar 1-trek ovozi 2-treknikidan pastroq bo'lsa 1-trekning ovozini ko'taramiz
    setEffect(1, VOLUME, GAIN, +5)
    print("1-trek ovozi 2-treknikidan pastroq")
elif loudnessTrack1 < loudnessTrack3:
    # agar 1-trek ovozi 2-treknikidan balandroq lekin 3-trekdan pastroq bulsa 1-trekning ovozini ko'taramiz
    setEffect(1, VOLUME, GAIN, +5)
    print(1-trek ovozi 3-treknikidan pastroq")
else:
    # agar 1-trek ovozi ovozi 2-trekniki va 3-treknikidan balandroq bo'lsa, hech narsa o'zgartirmaymiz
    print("1-trekning ovozi boshqalarnikidan balandroq")