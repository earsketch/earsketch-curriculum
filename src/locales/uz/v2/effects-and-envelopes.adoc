[[effectsandenvelopes]]
== Effects and Envelopes

:nofooter:

EarSketch lets the composer alter existing sounds to produce new and unique sounds. Bunga ushbu bobning diqqat markazida bo'lgan `setEffect()` funktsiyasi orqali erishiladi.

[[effectsinearsketch]]
=== Use Effects in EarSketch

:nofooter:

*Effektlar* bizga tovush sifatini o'zgartirish imkonini beradi. Similar to how adding a filter alters a photo, adding an audio effect changes the sound. For example, you can change the volume, add some echo or reverb, etc.

[role="curriculum-python curriculum-mp4"]
[[video4py]]
video::./videoMedia/004-01-UsingEffectsinEarSketch-PY.mp4[]

[role="curriculum-javascript curriculum-mp4"]
[[video4js]]
video::./videoMedia/004-01-UsingEffectsinEarSketch-JS.mp4[]

We use the function `setEffect()`, which takes four arguments, similar to `fitMedia()`:

. *track*: Track number or `MIX_TRACK`
. *type*: Effect constant, like `DELAY`
. *parameter*: Parameter constant, like `DELAY_TIME`
. *value*: Parameter value, like `200`. This value must be within the effect's range.

.PRACTICE
****
Write a new song with two tracks and modify the volume for both of the tracks using the `setEffect()` function.
In that case, the effect name (second argument) is `VOLUME`, and the effect parameter (third argument) is `GAIN`. The effect value (fourth argument) is a number of decibels (dB), between `-60` and `+12`.
****

Here is an example below:

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-volume-effect.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-volume-effect.js.txt[]
----

Biz “OVOZ BALANDLIGI” effektini ko‘rdik. Endi “KECHIKTIRISH”ni ko'rib chiqamiz. Quyidagi 2 ta klipni tinglang, biri *kechiktirish* effekti qo'llaniladi, boshqasida esa yo'q.

No effect:

++++
<div class="curriculum-mp3">audioMedia/reference.mp3</div>
++++

Delay effect:

++++
<div class="curriculum-mp3">audioMedia/delay2.mp3</div>
++++

In that case, the effect name (second argument) is `DELAY`, and the effect parameter (third argument) can either be `DELAY_TIME` (how long before the echo "answers") or `DELAY_FEEDBACK` (how loud your echo is). The value of `DELAY_TIME` is in milliseconds (1000 milliseconds is one second) and the value of `DELAY_FEEDBACK` is a number between `-120` and `-1`.

For example, `setEffect(1, DELAY, DELAY_TIME, 500)` puts a delay onto track 1 with the delay/echo lasting for 500 ms.

.PRACTICE
****
. Effektlar roʻyxatidagi kechiktirish effekti haqida bu yerda oʻqing: <</en/v1/every-effect-explained-in-detail#,effects>>
. Then run the code below and listen to the music without effects
. So'ng birinchi `setEffect()` qatori boshidan sharhni olib tashlang va farqni tinglang
. So'ng ikkinchi `setEffect()` qatori boshidan sharhni olib tashlang va farqni tinglang ("sharhni olib tashlash" `#` yoki `//` kod bloki kabi sharh sintaksisini o'chirishni anglatadi)
E'tibor bering, kechiktirish vaqti - 500ms, bu bir zarbaning uzunligi hisoblanadi. Since the tempo is 120 beats per minute, there is one beat every 60/120 = 1/2 seconds. 1 second is 1000ms, so 1/2 second is 1000/2 = 500ms.
You can try modifying the delay time and observing if your music sounds better or not.
****

{nbsp} +

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-delay-effect.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-delay-effect.js.txt[]
----

{nbsp} +

[[functionsandmoreeffects]]
=== Functions and more effects

Hozirgacha siz EarSketch-da `fitMedia()` yoki `setEffect()` kabi bir nechta funktsiyalardan foydalangansiz. Note that the function names always start with a lower-case letter, and are often a verb. Qaslar kompyuterga funktsiyani *chaqirish* yoki *bajarish*ni buyuradi. Qavslar orasidagi *Argumentlar* yoki parametrlar vergul bilan ajratiladi.

[role="curriculum-python"]
* `setTempo()`, `fitMedia()`, `makeBeat()` va so'ng `setEffect()` argumentlarni oladi. Ular EarSketch *Ilova Dasturlash Interfeysi* yoki *IDI* ning bir qismidir. EarSketch, or the EarSketch API, adds musical features to Python. Another example of API is the Google Maps API: a set of tools for embedding maps into websites or apps.
* Keyingi bobda siz o'zingizning shaxsiy funktsiyalaringizni qanday yaratishni ham o'rganasiz.

[role="curriculum-javascript"]
* `setTempo()`, `fitMedia()`, `makeBeat()` va so'ng `setEffect()` argumentlarni oladi. Ular EarSketch *Ilova Dasturlash Interfeysi* yoki *IDI* ning bir qismidir. EarSketch, or the EarSketch API, adds musical features to JavaScript. Another example of API is the Google Maps API: a set of tools for embedding maps into websites or apps.
* Keyingi bobda siz o'zingizning shaxsiy funktsiyalaringizni qanday yaratishni ham o'rganasiz.

The arguments of the function can each have a specific data type. The order of the arguments is important. Here are some data type examples:

* *Raqamlar*
** *Integers* are whole numbers, like 0, 5, or -26. Example: track numbers
** *Suzuvchi nuqta* raqamlari 0,125 yoki -21,0 kabi ratsional sonlardir. Example: volume of -4.2dB
* *Strings* represent text. Example: `"0000----0000----"`

Endi `setEffect()` funktsiyasi bilan ko'proq ishlaymiz. The following video shows how to use some effects:

////
VIDEO IS BEEING MADE
more info here: https://docs.google.com/spreadsheets/d/114pWGd27OkNC37ZRCZDIvoNPuwGLcO8KM5Z_sTjpn0M/edit#gid=302140020
("videos revamping" tab)
////

*Reverb* (reverberatsiya uchun qisqartma) bu devorlarga urilib, quloqlaringizga qaytadigan tovushdir. It gives a sense of space to your sound. Think about the difference between talking in a small bedroom and talking in a large church. The larger and "flatter" the room, the longer it takes the waves to return to your ears, hence that "large echoey room" sound. `REVERB` effekti tovushning so'nish vaqtini (`REVERB_DECAY`) va mavjud effekt miqdorini (`MIX`) boshqarish parametrlariga ega.

Listen to the clips below to hear the result of adding reverb to a track:

No effect:

++++
<div class="curriculum-mp3">audioMedia/reverbReference.mp3</div>
++++

Reverb effect:

++++
<div class="curriculum-mp3">audioMedia/reverbEffect.mp3</div>
++++

{nbsp} +

.PRACTICE
****
Effektlarning toʻliq roʻyxati uchun <</en/v1/every-effect-explained-in-detail#,this chapter>> ga oʻting.
Create a song with a volume effect and two other effects. Nima qilayotganingizni sharhlarda yozishni va kerak bo'lganda o'zgaruvchilar yaratishni unutmang.
****

[[effectsandenvelopes2]]
=== Effects and Envelopes

Siz effektlardan foydalanishni boshladingiz va biroz vaqt o'tgach bir effektning o'zgarishini xohlaysiz. For example, you might want a fade in (volume getting higher) at the beginning of your song.

*Zarflar* bizga effektning vaqt o'tishi bilan qanday o'zgarishini aniqlash imkonini beradi.

We will use two value-time pairs. Each pair contains an effect value and a corresponding measure. For example, `(-60, 1, 0, 3)` means a point is placed at value `-60` at measure `1`, and another point is placed at value `0` at measure `3`. Zarf ushbu nuqtalar o'rtasida *qiyalik* deb nomlangan chiziq hosil qiladi:

[[envelopepoints]]
.An annotated envelope in EarSketch
[caption="Figure 5.3.1: "]
image::../media/U2/NewEnvelope.png[Alt Text]

To change an envelope, you just need the `setEffect()` function with seven arguments (the last four arguments are the two value-time pairs):

. track
. type
. parameter
. startValue
. start
. endValue
. end

The last three out of seven parameters are *optional parameters*. If left unspecified, as was the case when we used `setEffect()` with only four parameters, the effect is applied to the entire track.

Here is an example of fade in:

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-envelopes.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-envelopes.js.txt[]
----

Now watch this video for other envelope examples

[role="curriculum-python curriculum-mp4"]
[[video5b]]
video::./videoMedia/005-03-MoreEffectsB-PY.mp4[]

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-complex-envelopes.py.txt[]
----

[role="curriculum-javascript curriculum-mp4"]
video::./videoMedia/005-03-MoreEffectsB-JS.mp4[]

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-complex-envelopes.js.txt[]
----

{nbsp} +

.PRACTICE
****
Create a new song. Barcha treklarga zarf qo'shish uchun (masalan: barcha treklaringiz uchun tovushning asta kuchayishi va so'nishi) yoki ayni trekdagi effektni qayta takrorlash uchun bitta "for" halqasidan foydalaning. You can use any effect you like.
Have your neighbor listen to your song, with and without the effect (to hear your song without the effect, comment out the lines that create the effect). Your neighbor has to guess which effect you added.
****

Below is an example of the above practice. Each iteration of the loop adds a one measure long segment of the envelope. Automating the GAIN parameter creates rhythmic volume fades. Try toggling the effect bypass in the DAW to hear the difference the effect makes (the "bypass" button to the left of the effect track in your DAW).

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-rhythmic-ramps.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-rhythmic-ramps.js.txt[]
----

And here is an example of fade in and fade out on all the tracks:

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-fade-in-and-fade-out.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-fade-in-and-fade-out.js.txt[]
----

{nbsp} +

[[chapter5summary]]
=== Chapter 5 Summary

* *Effects* change the qualities of a sound to make them unique.
* *Ovoz balandligi* tovushning jaranglash balandligi bilan bog'liq. *Kechiktirish* aks-sado hosil qiladi. *Reverb* tovushning keng xonada yangrayotgandek his qildiradi. *Panoramalash* musiqangizni chap yoki o'ng tomonga joylashtiradi.
* Effektlar EarSketch-da `setEffect()` funktsiyasi bilan amalga oshiriladi. Its syntax is `setEffect(track, type, parameter, value)`.
. *track*: Track number or `MIX_TRACK`
. *type*: Effect constant, like `DELAY`
. *parameter*: Parameter constant, like `DELAY_TIME`
. *value*: Parameter value, like `200`. This value must be within the effect's range.
* *Funktsiyalar* kompyuterning bajarishi uchun ko'rsatmalarni o'z ichiga oladi. Ma'lumotlar funktsiyalarga *argumentlar* orqali yuboriladi, bu funktsiya qanday bajarilishiga ta'sir qiladi. Ikki argumentli *chaqiruv* funktsiyasining sintaksisi `myFunction(argument1, argument2)`. 4 ta argumentli *chaqiruv* funktsiyasida ishlatiladigan sintaksisga `makeBeat(kick, 2, measure, kickBeat)` misol bola oladi.
* EarSketch effektlarining toʻliq roʻyxati va ularning parametrlarini har biri uchun tavsiflari bilan birga <</en/v1/every-effect-explained-in-detail#,effects>> da topish mumkin.
* *Zarflar* - effekt parametri vaqt o'tishi bilan qanday o'zgarishini belgilaydi. Ular _(qiymat, vaqt, qiymat, vaqt)_ kabi qiymat-vaqt juftliklari bilan tavsiflanadi.
* For an envelope, the 7-parameter `setEffect()` arguments are: `setEffect(track, type, parameter, startValue, start, endValue, end)`.

[[chapter-questions]]
=== Questions

[question]
--
What does an effect allow you to do in EarSketch?

[answers]
* Change the qualities of sound within a project
* Add a sound to a track
* Create a drum beat
* Change the tempo of a song
--

[question]
--
Bulardan qaysi biri `setEffect()` argumenti EMAS?

[answers]
* Clip Name
* Effect Name
* Effect Value
* Track Number
--

[question]
--
How would you set the delay time of a delay effect on track 3 to 50 milliseconds?

[answers]
* `setEffect(3, DELAY, DELAY_TIME, 50.0)`
* `setEffect(DELAY, 3, DELAY_TIME, 50.0)`
* `fitMedia(DELAY, 3, DELAY_TIME, 50.0)`
* `setEffect(50, DELAY_FEEDBACK, 1)`
--

[question]
--
Quyidagilardan qaysi biri `setEffect()` zarflarida foydalaniladigan parametr emas?

[answers]
* Clip Length
* Start Value
* Track Number
* Effect
--

[question]
--
Quyidagi `setEffect()` funktsiyasi qanday vazifa bajaradi?

[source,python]
----
setEffect(1, DISTORTION, DISTO_GAIN, 0, 1, 50, 11)
----

[answers]
* Increase the amount of distortion on track 1 over 10 measures.
* Decrease the amount of distortion on track 1 over 50 measures.
* Increase the volume of track 1 over 10 measures.
* Decrease the volume on track 1 over 50 measures.
--