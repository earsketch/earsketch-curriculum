[[effectsandenvelopes]]
== Effekte und Umschläge

:nofooter:

Mit EarSketch kann der Komponist bestehende Sounds ändern, um neue und einzigartige Sounds zu erzeugen. Dies wird durch die Funktion `setEffect()` erreicht, den Schwerpunkt dieses Kapitels.

[[effectsinearsketch]]
=== Effekte in der EarSketch verwenden

:nofooter:

*Effekte* ermöglichen es uns, die Songqualitäten zu ändern. Ähnlich wie das Hinzufügen eines Filters ein Foto verändert, verändert das Hinzufügen eines Audioeffekts den Sound. Du kannst zum Beispiel die Lautstärke ändern, ein Echo oder einen Hall hinzufügen usw.

[role="curriculum-python curriculum-mp4"]
[[video4py]]
video::./videoMedia/004-01-UsingEffectsinEarSketch-PY.mp4[]

[role="curriculum-javascript curriculum-mp4"]
[[video4js]]
video::./videoMedia/004-01-UsingEffectsinEarSketch-JS.mp4[]

Wir verwenden die Funktion `setEffect()`, die vier Argumente enthält, ähnlich wie `fitMedia()`:

. *track*: Tracknummer oder `MIX_TRACK`
. *type*: Effektkonstante, wie `DELAY`
. *Parameter*: Parameterkonstante, wie `DELAY_TIME`
. *value*: Parameterwert wie `200`. Dieser Wert muss innerhalb des Effektbereichs liegen.

.ÜBUNG
****
Schreibe einen neuen Song mit zwei Titeln und ändere die Lautstärke für beide Titel mit der `setEffect()` Funktion.
In diesem Fall ist der Effekt-Name (zweites Argument) `VOLUME`, und der Effekt-Parameter (drittes Argument) ist `GAIN`. Der Effektwert (viertes Argument) ist eine Anzahl von Dezibel (dB), zwischen `-60` und `+12`.
****

Hier folgt ein Beispiel.

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-volume-effect.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-volume-effect.js.txt[]
----

Wir haben den `VOLUME` Effekt gesehen. Schauen wir uns nun `DELAY` an. Höre dir die 2 Clips unten an, einen ohne und einen mit einem *Verzögerungseffekt*.

Kein Effekt:

++++
</div>audioMedia/reference.mp3</0>
++++

Verzögerungseffekt:

++++
</div>audioMedia/delay2.mp3</0>
++++

In diesem Fall lautet der Effektname (zweites Argument) `DELAY`, und der Effektparameter (drittes Argument) kann entweder `DELAY_TIME` (wie lange, bevor das Echo „antwortet“) oder `DELAY_FEEDBACK` (wie laut Ihr Echo ist) sein. Der Wert von `DELAY_TIME` ist in Millisekunden (1000 Millisekunden ist eine Sekunde) und der Wert von `DELAY_FEEDBACK` ist eine Zahl zwischen `-120` und `-1`.

Zum Beispiel setzt `setEffect(1, DELAY, DELAY_TIME, 500)` eine Verzögerung auf Spur 1, wobei die Verzögerung/das Echo 500 ms dauert.

.ÜBUNG
****
. Lies über den Delay-Effekt in der Liste der Effekte Kapitel hier: <</en/v1/every-effect-explained-in-detail#,effects>>
. Führe dann den unten stehenden Code aus und höre die Musik ohne Effekte
. Dann entkommentiere die erste `setEffect()` Zeile und höre den Unterschied
. Entkommentiere dann die zweite `setEffect()`-Zeile und höre dir den Unterschied an („Entkommentieren“ bedeutet, die Kommentarsyntax, `#` oder `//`, aus einem Codeblock zu löschen). Beachte, dass die Verzögerungszeit, 500ms, der Länge eines Beats entspricht. Da das Tempo 120 Beats pro Minute ist, gibt es einen Beat alle 60/120 = 1/2 Sekunden. 1 Sekunde ist 1000ms, also 1/2 Sekunde 1000/2 = 500ms.
Du kannst versuchen, die Verzögerungszeit zu ändern und beobachten, ob deine Musik besser klingt oder nicht.
****

{nbsp} +

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-delay-effect.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-delay-effect.js.txt[]
----

{nbsp} +

[[functionsandmoreeffects]]
=== Funktionen und mehr Effekte

Bisher hast du verschiedene Funktionen in EarSketch verwendet, wie z. B. `fitMedia()` oder `setEffect()`. Beachte, dass die Funktionsnamen immer mit einem Kleinbuchstaben beginnen und oft ein Verb sind. Die Klammern weisen den Computer an, die Funktion *aufzurufen* bzw. *auszuführen*. Die *Argumente* oder Parameter zwischen den Klammern werden durch Kommata getrennt.

[role="curriculum-python"]
* `setTempo()`, `fitMedia()`, `makeBeat()` und jetzt auch `setEffect()` benötigen Argumente. Sie sind Teil der EarSketch *Application Programming Interface*, oder *API*. EarSketch, oder die EarSketch API, fügt Python musikalische Funktionen hinzu. Ein weiteres Beispiel für API ist die Google Maps API: eine Reihe von Tools zum Einbetten von Karten in Websites oder Apps.
* In einem späteren Kapitel lernst du auch, wie du eigene benutzerdefinierte Funktionen erstellst.

[role="curriculum-javascript"]
* `setTempo()`, `fitMedia()`, `makeBeat()` und jetzt auch `setEffect()` benötigen Argumente. Sie sind Teil der EarSketch *Application Programming Interface*, oder *API*. EarSketch, oder die EarSketch API, fügt JavaScript musikalische Funktionen hinzu. Ein weiteres Beispiel für API ist die Google Maps API: eine Reihe von Tools zum Einbetten von Karten in Websites oder Apps.
* In einem späteren Kapitel lernst du auch, wie du eigene benutzerdefinierte Funktionen erstellst.

Die Argumente der Funktion können jeweils einen bestimmten Datentyp haben. Die Reihenfolge der Argumente ist wichtig. Hier sind einige Beispiele für Datentypen:

* *Zahlen*
** *Integer* sind ganze Zahlen, wie 0, 5 oder -26. Beispiel: Tracknummern
** *Floating Point* Zahlen sind rationale Zahlen wie 0.125 oder -21.0. Beispiel: Lautstärke von -4.2dB
* *Strings* repräsentieren Text. Beispiel: `"0000----0000----"`

Lass uns nun mehr mit der Funktion `setEffect()` spielen. Das folgende Video zeigt, wie einige Effekte verwendet werden können:

////
VIDEO IS BEEING MADE
more info here: https://docs.google.com/spreadsheets/d/114pWGd27OkNC37ZRCZDIvoNPuwGLcO8KM5Z_sTjpn0M/edit#gid=302140020
("videos revamping" tab)
////

*Reverb* (Nachhall) ist Schall, der von Wänden abprallt und zu den Ohren zurückkehrt. Es gibt Ihrem Sound ein Gefühl von Raum. Denke an den Unterschied zwischen einem Gespräch in einem kleinen Schlafzimmer und einem Gespräch in einer großen Kirche. Je größer und „flacher“ der Raum ist, desto länger dauert es, bis die Wellen zu Ihren Ohren zurückkehren, deshalb der „große, hallige Raum“. Der Effekt `REVERB` hat Parameter, um die Abklingzeit (`REVERB_DECAY`) und die Menge des vorhandenen Effekts (`MIX`) zu steuern.

Höre dir die folgenden Clips an, um das Ergebnis des Hinzufügens von Hall zu einer Spur zu hören:

Kein Effekt:

++++
<div class="curriculum-mp3">audioMedia/reverbReference.mp3</div>
++++

Reverb-Effekt:

++++
<div class="curriculum-mp3">audioMedia/reverbEffect.mp3</div>
++++

{nbsp} +

.ÜBUNG
****
Gehe zu <</en/v1/every-effect-explained-in-detail#,this chapter>> um eine vollständige Liste der Effekte zu erhalten.
Erstelle einen Song mit einem Lautstärkeeffekt und zwei weiteren Effekten. Vergiss nicht, in den Kommentaren zu vermerken, was du tust, und wenn nötig, Variablen zu erstellen.
****

[[effectsandenvelopes2]]
=== Effekte und Umschläge

Du hast mit der Verwendung von Effekten begonnen und möchtest vielleicht, dass sich ein Effekt mit der Zeit verändert. Zum Beispiel könntest du am Anfang deines Songs eine Einblendung (Lautstärke steigt an) haben wollen.

Mit *Umschlägen* können wir definieren, wie sich eine Wirkung eines Effekts im Laufe der Zeit verändert.

Wir werden zwei Wert-Zeit-Paare verwenden. Jedes Paar enthält einen Effektwert und einen entsprechenden Takt. Zum Beispiel bedeutet „-60, 1, 0, 3“, dass ein Punkt mit dem Wert „-60“ bei Takt „1“ und ein anderer Punkt mit dem Wert ‚0‘ bei Takt „3“ platziert wird. Der Umschlag erzeugt eine Linie zwischen diesen Punkten, genannt *ramp*:

[[envelopepoints]]
.Ein kommentierter Umschlag in EarSketch
[caption="Figure 5.3.1: "]
image::../media/U2/NewEnvelope.png[Alt Text]

Um einen Umschlag zu ändern, brauchst du nur die `setEffect()` Funktion mit sieben Argumenten (die letzten vier Argumente sind die beiden Wertzeitpaare):

. track
. typ
. parameter
. startValue
. start
. endValue
. end

Die letzten drei von sieben Parametern sind *optional*. Wenn nichts angegeben wird, wie es bei der Verwendung von `setEffect()` mit nur vier Parametern der Fall war, wird der Effekt auf den gesamten Track angewendet.

Hier ist ein Beispiel fürs Einblenden:

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-envelopes.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-envelopes.js.txt[]
----

Sieh dir nun dieses Video für andere Umschlagbeispiele an

[role="curriculum-python curriculum-mp4"]
[[video5b]]
video::./videoMedia/005-03-MoreEffectsB-PY.mp4[]

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-complex-envelopes.py.txt[]
----

[role="curriculum-javascript curriculum-mp4"]
video::./videoMedia/005-03-MoreEffectsB-JS.mp4[]

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-complex-envelopes.js.txt[]
----

{nbsp} +

.ÜBUNG
****
Erstelle einen neuen Song. Benutze eine `for` loop, um einen Umschlag zu allen Tracks hinzuzufügen (z.B. Ein- und Ausblenden für alle Tracks möglich), oder um einen Effekt auf der gleiche Spur zu wiederholen. Sie können jeden gewünschten Effekt verwenden.
Lass deinen Nachbarn deinen Song hören, mit und ohne den Effekt (um deinen Song ohne den Effekt zu hören entkommentiere die Zeilen, die den Effekt erzeugen). Dein Nachbar muss erraten, welchen Effekt du hinzugefügt hast.
****

Unten ist ein Beispiel der oben genannten Praxis. Bei jeder Iteration der Schleife wird ein eintaktiges Segment des Umschlags hinzugefügt. Die Automatisierung des GAIN-Parameters erzeugt rhythmische Lautstärkeeinblendungen. Versuche, den Effekt-Bypass in der DAW umzuschalten, um den Unterschied zu hören (die „Bypass“-Schaltfläche links neben der Effektspur in Ihrer DAW).

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-rhythmic-ramps.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-rhythmic-ramps.js.txt[]
----

And here is an example of fade in and fade out on all the tracks:

[role="curriculum-python"]
[source,python]
----
include::code-examples/effects-and-envelopes-fade-in-and-fade-out.py.txt[]
----

[role="curriculum-javascript"]
[source,javascript]
----
include::code-examples/effects-and-envelopes-fade-in-and-fade-out.js.txt[]
----

{nbsp} +

[[chapter5summary]]
=== Chapter 5 Summary

* *Effects* change the qualities of a sound to make them unique.
* *Volume* is related to loudness. *Delay* creates an echo. *Reverb* makes it feel like the sound is played in a large room. *Panning* places your music on the left or right side.
* Effects are implemented in EarSketch with the `setEffect()` function. Its syntax is `setEffect(track, type, parameter, value)`.
. *track*: Tracknummer oder `MIX_TRACK`
. *type*: Effektkonstante, wie `DELAY`
. *Parameter*: Parameterkonstante, wie `DELAY_TIME`
. *value*: Parameterwert wie `200`. Dieser Wert muss innerhalb des Effektbereichs liegen.
* *Functions* contain instructions for the computer to execute. Data is sent to functions by *arguments*, which affect how the function executes. The syntax of a function *call* with two arguments is `myFunction(argument1, argument2)`. An example of syntax used in a function *call* with 4 arguments is `makeBeat(kick, 2, measure, kickBeat)`.
* A complete list of EarSketch effects and their parameters can be found in <</en/v1/every-effect-explained-in-detail#,effects>>, along with descriptions for each.
* *Envelopes* define how an effect parameter changes over time. They are described with value-time pairs, like _(value, time, value, time)_.
* For an envelope, the 7-parameter `setEffect()` arguments are: `setEffect(track, type, parameter, startValue, start, endValue, end)`.

[[chapter-questions]]
=== Questions

[question]
--
What does an effect allow you to do in EarSketch?

[answers]
* Change the qualities of sound within a project
* Add a sound to a track
* Create a drum beat
* Change the tempo of a song
--

[question]
--
Which of these is NOT a `setEffect()` argument?

[answers]
* Clip Name
* Effect Name
* Effect Value
* Track Number
--

[question]
--
How would you set the delay time of a delay effect on track 3 to 50 milliseconds?

[answers]
* `setEffect(3, DELAY, DELAY_TIME, 50.0)`
* `setEffect(DELAY, 3, DELAY_TIME, 50.0)`
* `fitMedia(DELAY, 3, DELAY_TIME, 50.0)`
* `setEffect(50, DELAY_FEEDBACK, 1)`
--

[question]
--
Which of the following is not a parameter used with `setEffect()` envelopes?

[answers]
* Clip Length
* Start Value
* Track Number
* Effect
--

[question]
--
What would the following `setEffect()` function do?

[source,python]
----
setEffect(1, DISTORTION, DISTO_GAIN, 0, 1, 50, 11)
----

[answers]
* Increase the amount of distortion on track 1 over 10 measures.
* Decrease the amount of distortion on track 1 over 50 measures.
* Increase the volume of track 1 over 10 measures.
* Decrease the volume on track 1 over 50 measures.
--